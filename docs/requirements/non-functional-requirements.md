# 非機能要件 (初版)

MVP 段階で満たすべき品質指標と制約条件を整理する。

## 1. セキュリティ
- OAuth 2.0 / OpenID Connect による SSO を前提とし、外部 IdP (Google Workspace) と連携。
- 監査ログは 90 日間保持し、重要操作 (権限変更、データエクスポート) に対する証跡を残す。
- 静的解析 (Dependabot, npm audit) を週次で実施し、クリティカル以上は 24 時間以内に対処。

## 2. 可用性 / 拡張性
- 可用性目標: 月間 99.5% 以上。主要コンポーネントは冗長構成 (Vercel + レプリカ DB) を想定。
- スケーラビリティ: テナント 100 社 / 店舗 5,000 件まで水平スケール可能な設計 (マルチテナント分離、DB インデックス) を確保。
- バックアップ: DB の自動バックアップは 1 日 1 回、保持期間 30 日。

## 3. パフォーマンス
- ダッシュボード初期表示: 3 秒以内 (P95)。
- 口コミ一覧のフィルター切り替え: 1 秒以内。
- バッチ連携 (GBP API Sync): 15 分以内に処理完了。

## 4. 運用・監視
- エラーレポート: Sentry を利用し、重大エラーは Slack へ通知。
- メトリクス監視: Datadog による CPU / メモリ / 外部 API 呼び出し時間の可視化。
- 運用マニュアル: 障害時の一次対応手順とエスカレーション先を明記した Runbook を用意。

## 5. 法務・コンプライアンス
- 個人情報は国内リージョン (Tokyo) で保管。
- GDPR / APPI (個人情報保護法) に基づき、ユーザーデータ削除依頼に 14 日以内に対応。
- プライバシーポリシーに連動した Cookie / データ利用の明示を行う。

## 6. 次ステップ
- 各指標のモニタリング方法を開発環境ガイドに追記。
- SLA / SLO ドキュメントをドラフト化し、ステークホルダー確認を実施。
- セキュリティレビュー (脅威モデリング) のスケジュール策定。
